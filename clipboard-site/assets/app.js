(()=>{"use strict";const e=e=>{if(!e)return{};const[t,n]=e.split(":");return"window"===t?window.svelteSlabs&&window.svelteSlabs[n]||{}:"endpoint"===t?(console.warn("Endpoints not yet supported"),{}):void 0};function t(){}function n(e){return e()}function o(e){e.forEach(n)}function s(e){return"function"==typeof e}let r;new Set,new Set,Promise.resolve(),new Set,new Set,"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(r=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(n).filter(s);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){(function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])})(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});const l=[];const c=[],i=e=>{let n={},o=`cc-svelte-store-${e}`,s=/persist/.test(e);s&&(n=(e=>{let t=localStorage.getItem(e);try{t=t?JSON.parse(t):null}catch{}return t||{}})(o));const r=function(e,n=t){let o;const s=[];function r(t){if(r=t,((n=e)!=n?r==r:n!==r||n&&"object"==typeof n||"function"==typeof n)&&(e=t,o)){const t=!l.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),l.push(n,e)}if(t){for(let e=0;e<l.length;e+=2)l[e][0](l[e+1]);l.length=0}}var n,r}return{set:r,update:function(t){r(t(e))},subscribe:function(l,c=t){const i=[l,c];return s.push(i),1===s.length&&(o=n(r)||t),l(e),()=>{const e=s.indexOf(i);-1!==e&&s.splice(e,1),0===s.length&&(o(),o=null)}}}}(n);return s&&r.subscribe((e=>localStorage.setItem(o,JSON.stringify(e)))),r},a=e=>{const t=e.toLowerCase().split("/").reverse(),n=[t[0].replace(/\..*$/,"")];for(let e=t[1]===n[0]?2:1;e<t.length&&"components"!==t[e]&&!/\./.test(t[e]);e++)n.unshift(t[e]);return n.join("/")},d=(e,t)=>{for(let[n,o]of Object.entries(e))n=a(n),t[n]=o.default},u=(e,t)=>{if((e=>{for(let[t,n]of Object.entries(e))/(^|_)store$/.test(t)&&n&&"string"==typeof n&&(c[n]||(c[n]=i(n)),e[t]=c[n])})(e),!e.wrapper&&e._wrapper&&(e.wrapper=t),e.cloudcannon_encrypted_details||e._cloudcannon_encrypted_details){const n=t.querySelector('[name="_encrypted_details"]');n&&(e.cloudcannon_encrypted_details=n.value)}};import(document.currentScript.src.replace("app.js","components.js")).then((t=>{const n={};window.bookshop_components&&d(window.bookshop_components.default,n),"undefined"!=typeof THEME_COMPONENTS&&d(THEME_COMPONENTS,n),((t,n)=>{n={hydrate:!0,...n};const o=document.querySelectorAll("[data-svelte-slab]"),s=[];for(const r of o){const o=r.dataset.svelteSlab,l=r.dataset.svelteSlabProps,c=t[o];if(c){const t=e(l);"function"==typeof n.transformProps&&n.transformProps(t,r),s.push(new c({target:r,props:t,hydrate:n.hydrate}))}else console.warn(`WARN: Svelte slab "${o}" not found`)}})(n,{transformProps:u})}))})();